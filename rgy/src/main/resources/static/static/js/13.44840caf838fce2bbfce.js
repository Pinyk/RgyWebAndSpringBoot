webpackJsonp([13],{"6nKk":function(t,e){},dOyC:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=a("mtWM"),o=a.n(l),n={name:"Filelist",data:function(){return{istrue:!1,isShow:!1,floder:"展开v",labelPosition_addAfter:"right",formLabelAlign_addAfter:{region:""},sizeForm:{region:""},activeName:"first",form:{name:"",region:"",date1:""},formInline:{user:"",region:""},msg:8888,contractName:"",contractNames:"",infoState:"",businessType:"",contractAmount:"",partyA:"",partyB:"",projectManager:"",salesMan:"",signDate:"",executiveStartDate:"",executiveEndDate:"",contractId:"",list:[],list2:[],list3:[],list4:[],pagesize:5,currpage:1,count:0}},created:function(){var t=this;o.a.get("http://localhost:8084/role/findAll").then(function(e){t.list=e.data.data.filter(function(t){return 0==t.infoState}),t.list2=t.list}).catch(function(t){console.log(t),alert("网络错误，不能访问")})},methods:{handleCurrentChange:function(t){this.currpage=t},handleSizeChange:function(t){this.pagesize=t},handleSelectionChange:function(t){console.log(t)},change:function(){this.istrue=!this.istrue,this.count%2==0?this.floder="收起^":this.floder="展开v",this.count++},search:function(){var t=this,e=document.getElementById("btn1").value,a=document.getElementById("btn2").value,l=document.getElementById("btn3").value,n=document.getElementById("btn4").value,r=document.getElementById("btn5").value,s=document.getElementById("btn6").value,i=document.getElementById("btn7").value,c=document.getElementById("btn8").value,u=document.getElementById("btn9").value,d=document.getElementById("btn10").value;o.a.get("http://192.168.1.218:8084/contract/findcondition?contractName="+e+"&infoState="+a+"&businessType="+l+"&partyA="+n+"&partyB="+r+"&projectManager="+s+"&salesMan="+i+"&signDate="+c+"&executiveStartDate="+u+"&executiveEndDate="+d).then(function(e){t.list3=t.list,t.list=e.data.data.filter(function(t){return 0==t.infoState})}).catch(function(t){console.log(t),t.response?(console.log(t.response.data),console.log(t.response.status),console.log(t.response.headers)):console.log("Error",t.message),console.log(t.config)}),console.log(e)},reback:function(){this.list=this.list2},handleClick2:function(t){o.a.get("http://192.168.1.218:8084/contract/delete?contractId="+t.contractId).then(function(t){}).catch(function(t){console.log(t),t.response?(console.log(t.response.data),console.log(t.response.status),console.log(t.response.headers)):console.log("Error",t.message),console.log(t.config)}),alert("确认删除？"),window.location.reload()},handleClick:function(t){var e=this;o.a.get("http://192.168.1.218:8084/contract/findbyid?contractId="+t.contractId).then(function(t){e.list4=t.data.data,console.log(e.list4),e.$router.push({name:"Lookfile",params:{data:e.list4}})}).catch(function(t){console.log(t),alert("网络错误，不能访问")})},Show:function(){this.isShow=!this.isShow},refrashData:function(){o.a.post("http://192.168.1.218:8084/contract/update",{contractName:this.contractName,contractAmount:this.contractAmount,signDate:this.signDate,salesMan:this.salesMan,partyA:this.partyA,partyB:this.partyB,executiveStartDate:this.executiveStartDate,infoState:this.infoState,contractId:this.contractId}).then(function(t){console.log(t),window.location.reload(),alert("修改成功!")}).catch(function(t){console.log(t)})},handleClick3:function(t){var e;e=t,this.contractName=e.contractName,this.contractAmount=e.contractAmount,this.signDate=e.signDate,this.salesMan=e.salesMan,this.partyA=e.partyA,this.partyB=e.partyB,this.executiveStartDate=e.executiveStartDate,this.infoState=e.infoState,this.contractId=e.contractId}}},r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"back"},[a("div",{staticClass:"card1"},[a("el-form",{ref:"form",attrs:{model:t.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"合同名称"}},[a("el-input",{model:{value:t.contractName,callback:function(e){t.contractName=e},expression:"contractName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"合同金额(元)"}},[a("el-input",{model:{value:t.contractAmount,callback:function(e){t.contractAmount=e},expression:"contractAmount"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"签订日期"}},[a("el-input",{model:{value:t.signDate,callback:function(e){t.signDate=e},expression:"signDate"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"业务员"}},[a("el-input",{model:{value:t.salesMan,callback:function(e){t.salesMan=e},expression:"salesMan"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"甲方合同"}},[a("el-input",{model:{value:t.partyA,callback:function(e){t.partyA=e},expression:"partyA"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"乙方合同"}},[a("el-input",{model:{value:t.partyB,callback:function(e){t.partyB=e},expression:"partyB"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"执行开始日期"}},[a("el-input",{model:{value:t.executiveStartDate,callback:function(e){t.executiveStartDate=e},expression:"executiveStartDate"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"合同状态"}},[a("el-input",{model:{value:t.infoState,callback:function(e){t.infoState=e},expression:"infoState"}})],1),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.Show(),t.refrashData()}}},[t._v("修改 ")])],1)],1)]),t._v(" "),a("div",{staticClass:"addAfter"},[a("div",{attrs:{id:"app_addAfter"}},[a("div",{staticClass:"addAfter_content"},[a("div",{staticClass:"contract_input"},[a("el-form",{attrs:{"label-width":"120px"}},[a("el-form-item",{attrs:{label:"合同名称："}},[a("el-input",{attrs:{id:"btn1"},model:{value:t.contractName,callback:function(e){t.contractName=e},expression:"contractName"}})],1)],1),t._v(" "),a("el-form",{ref:"form",attrs:{model:t.sizeForm,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"合同状态："}},[a("el-select",{attrs:{placeholder:"请选择活动区域",id:"btn2"},model:{value:t.infoState,callback:function(e){t.infoState=e},expression:"infoState"}},[a("el-option",{attrs:{label:"区域一",value:"t1"}}),t._v(" "),a("el-option",{attrs:{label:"区域二",value:"t2"}})],1)],1)],1),t._v(" "),a("el-form",{ref:"form",attrs:{model:t.sizeForm,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"合同业务类型："}},[a("el-select",{attrs:{placeholder:"请选择活动区域",id:"btn3"},model:{value:t.businessType,callback:function(e){t.businessType=e},expression:"businessType"}},[a("el-option",{attrs:{label:"区域一",value:"x1"}}),t._v(" "),a("el-option",{attrs:{label:"区域二",value:"x2"}})],1)],1)],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.istrue,expression:"istrue"}],staticStyle:{display:"flex","flex-wrap":"wrap"}},[a("el-form",{ref:"form",attrs:{model:t.sizeForm,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"合同甲方："}},[a("el-select",{attrs:{placeholder:"请选择活动区域",id:"btn4"},model:{value:t.partyA,callback:function(e){t.partyA=e},expression:"partyA"}},[a("el-option",{attrs:{label:"区域一",value:"j1"}}),t._v(" "),a("el-option",{attrs:{label:"区域二",value:"j2"}})],1)],1)],1),t._v(" "),a("el-form",{ref:"form",attrs:{model:t.sizeForm,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"合同乙方："}},[a("el-select",{attrs:{placeholder:"请选择活动区域",id:"btn5"},model:{value:t.partyB,callback:function(e){t.partyB=e},expression:"partyB"}},[a("el-option",{attrs:{label:"区域一",value:"y1"}}),t._v(" "),a("el-option",{attrs:{label:"区域二",value:"y2"}})],1)],1)],1),t._v(" "),a("el-form",{ref:"form",attrs:{model:t.sizeForm,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"项目负责人："}},[a("el-select",{attrs:{placeholder:"请选择活动区域",id:"btn6"},model:{value:t.projectManager,callback:function(e){t.projectManager=e},expression:"projectManager"}},[a("el-option",{attrs:{label:"区域一",value:"r1"}}),t._v(" "),a("el-option",{attrs:{label:"区域二",value:"r2"}})],1)],1)],1),t._v(" "),a("el-form",{ref:"form",attrs:{model:t.sizeForm,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"业务员："}},[a("el-select",{attrs:{placeholder:"请选择活动区域",id:"btn7"},model:{value:t.salesMan,callback:function(e){t.salesMan=e},expression:"salesMan"}},[a("el-option",{attrs:{label:"4",value:"4"}}),t._v(" "),a("el-option",{attrs:{label:"区域二",value:"w2"}})],1)],1)],1),t._v(" "),a("el-form",{attrs:{"label-position":t.labelPosition_addAfter,"label-width":"120px",model:t.formLabelAlign_addAfter}},[a("el-form-item",{attrs:{label:"签订日期："}},[a("el-col",{attrs:{span:11}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",id:"btn8"},model:{value:t.signDate,callback:function(e){t.signDate=e},expression:"signDate"}})],1)],1)],1),t._v(" "),a("el-form",{attrs:{"label-position":t.labelPosition_addAfter,"label-width":"120px",model:t.formLabelAlign_addAfter}},[a("el-form-item",{attrs:{label:"执行开始日期："}},[a("el-col",{attrs:{span:11}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",id:"btn9"},model:{value:t.executiveStartDate,callback:function(e){t.executiveStartDate=e},expression:"executiveStartDate"}})],1)],1)],1),t._v(" "),a("el-form",{attrs:{"label-position":t.labelPosition_addAfter,"label-width":"120px",model:t.formLabelAlign_addAfter}},[a("el-form-item",{attrs:{label:"执行截止日期："}},[a("el-col",{attrs:{span:11}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",id:"btn10"},model:{value:t.executiveEndDate,callback:function(e){t.executiveEndDate=e},expression:"executiveEndDate"}})],1)],1)],1)],1)],1),t._v(" "),a("div",{staticClass:"button"},[a("el-row",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.search()}}},[t._v("查询")]),t._v(" "),a("el-button",{on:{click:t.reback}},[t._v("重置")]),t._v(" "),a("el-button",{staticStyle:{color:"white"},attrs:{type:"primary",id:"span"},on:{click:t.change}},[t._v(t._s(t.floder))]),t._v(" "),a("router-link",{attrs:{to:"./Addfile"}},[a("el-button",{attrs:{type:"success"}},[t._v("+新增")])],1)],1)],1),t._v(" "),a("div",{staticClass:"card2"},[a("div",{attrs:{id:"card2_bottom"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.list.slice((t.currpage-1)*t.pagesize,t.currpage*t.pagesize)},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{prop:"contractName",label:"合同名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"contractAmount",label:"合同金额(元)"}}),t._v(" "),a("el-table-column",{attrs:{prop:"signDate",label:"签订日期"}}),t._v(" "),a("el-table-column",{attrs:{prop:"salesMan",label:"业务员"}}),t._v(" "),a("el-table-column",{attrs:{prop:"partyA",label:"合同甲方"}}),t._v(" "),a("el-table-column",{attrs:{prop:"partyB",label:"乙方合同"}}),t._v(" "),a("el-table-column",{attrs:{prop:"executiveStartDate",label:"执行开始日期"}}),t._v(" "),a("el-table-column",{attrs:{prop:"infoState",label:"合同状态"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.handleClick(e.row)}}},[t._v("预览")]),t._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.Show(),t.handleClick3(e.row)}}},[t._v("修改")]),t._v(" "),a("el-button",{attrs:{type:"text",size:"small",data:t.list.id},on:{click:function(a){return t.handleClick2(e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("el-pagination",{attrs:{background:"",layout:"prev, pager, next, sizes, total, jumper","page-sizes":[5,10,15,20],"page-size":t.pagesize,total:t.list.length},on:{"current-change":t.handleCurrentChange,"size-change":t.handleSizeChange}})],1)])])])])])},staticRenderFns:[]};var s=a("VU/8")(n,r,!1,function(t){a("6nKk")},"data-v-bbae27fe",null);e.default=s.exports}});
//# sourceMappingURL=13.44840caf838fce2bbfce.js.map